<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Spotisync - YouTube Music to Spotify Sync</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-sync-alt"></i> Spotisync</h1>
                <p>Sync your YouTube Music playlists to Spotify with precision</p>
                <div class="header-nav">
                    <button id="one-time-sync-tab" class="nav-tab active">
                        <i class="fas fa-play"></i> One-Time Sync
                    </button>
                    <button id="playlist-links-tab" class="nav-tab">
                        <i class="fas fa-link"></i> Playlist Links
                    </button>
                </div>
            </div>
        </header>

        <main class="main-content">            <!-- Authentication Section -->
            <section id="auth-section" class="card">
                <h2><i class="fas fa-key"></i> Authentication</h2>
                <div class="auth-status">
                    <div class="service-auth">
                        <div class="service-info">
                            <i class="fab fa-spotify spotify-icon"></i>
                            <span>Spotify</span>
                        </div>
                        <button id="spotify-auth-btn" class="btn btn-spotify">
                            <i class="fas fa-sign-in-alt"></i> Connect Spotify
                        </button>
                        <span id="spotify-status" class="status-indicator"></span>
                    </div>
                    <div class="service-auth">
                        <div class="service-info">
                            <i class="fab fa-youtube youtube-icon"></i>
                            <span>YouTube Music</span>
                        </div>
                        <span id="youtube-status" class="status-indicator">Automatically configured</span>
                    </div>
                </div>
            </section>

            <!-- Cookie Monitor Section -->
            <section id="cookie-monitor-section" class="card">
                <h2><i class="fas fa-shield-alt"></i> Cookie Monitor</h2>
                <div class="cookie-monitor-content">
                    <div class="monitor-status">
                        <div class="status-row">
                            <span class="status-label">Service Status:</span>
                            <span id="monitor-status" class="status-badge status-stopped">Stopped</span>
                        </div>
                        <div class="status-row">
                            <span class="status-label">Cookie Health:</span>
                            <span id="cookie-health" class="status-badge status-unknown">Unknown</span>
                        </div>
                        <div class="status-row">
                            <span class="status-label">Last Update:</span>
                            <span id="last-update">Never</span>
                        </div>
                    </div>
                    
                    <div class="monitor-controls">
                        <button id="start-monitor-btn" class="btn btn-success">
                            <i class="fas fa-play"></i> Start Chrome Monitor
                        </button>
                        <button id="stop-monitor-btn" class="btn btn-danger" style="display: none;">
                            <i class="fas fa-stop"></i> Stop Monitor
                        </button>
                        <button id="restart-monitor-btn" class="btn btn-warning">
                            <i class="fas fa-redo"></i> Restart
                        </button>
                        <button id="refresh-cookies-btn" class="btn btn-secondary">
                            <i class="fas fa-refresh"></i> Refresh Cookies
                        </button>
                        <button id="check-health-btn" class="btn btn-info">
                            <i class="fas fa-heartbeat"></i> Check Health
                        </button>
                    </div>
                    
                    <div class="monitor-info">
                        <h4><i class="fas fa-info-circle"></i> Auto Cookie Refresh</h4>
                        <p>This system automatically monitors your YouTube Music cookies and refreshes them when needed. It runs Chrome in the background with debugging enabled to keep your authentication fresh.</p>
                        
                        <div class="info-features">
                            <div class="feature-item">
                                <i class="fas fa-clock"></i>
                                <span>Checks cookies every 5 minutes</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-heart"></i>
                                <span>Sends heartbeat every 30 minutes</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-shield"></i>
                                <span>Auto-recovers from failures</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-robot"></i>
                                <span>Runs completely in background</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="notifications-section">
                        <h4><i class="fas fa-bell"></i> Recent Notifications</h4>
                        <div id="notifications-list" class="notifications-list">
                            <p class="no-notifications">No notifications yet</p>
                        </div>
                        <button id="clear-notifications-btn" class="btn btn-sm btn-outline">
                            <i class="fas fa-trash"></i> Clear All
                        </button>
                    </div>
                </div>            </section>

            <!-- Playlist Linking Section -->
            <section id="playlist-linking-section" class="card" style="display: none;">
                <h2><i class="fas fa-link"></i> Playlist Links Management</h2>
                
                <!-- Create New Link Form -->
                <div class="create-link-form">
                    <h3><i class="fas fa-plus-circle"></i> Create New Playlist Link</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="link-sync-direction">Sync Direction:</label>
                            <select id="link-sync-direction" class="input-field">
                                <option value="bidirectional">Bidirectional Sync</option>
                                <option value="spotify-to-youtube">Spotify → YouTube Music</option>
                                <option value="youtube-to-spotify">YouTube Music → Spotify</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="link-auto-sync">Auto Sync Interval:</label>
                            <select id="link-auto-sync" class="input-field">
                                <option value="0">Manual Only</option>
                                <option value="3600000">Every Hour</option>
                                <option value="21600000">Every 6 Hours</option>
                                <option value="43200000">Every 12 Hours</option>
                                <option value="86400000" selected>Daily</option>
                                <option value="604800000">Weekly</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="link-spotify-playlist">Spotify Playlist:</label>
                            <select id="link-spotify-playlist" class="input-field">
                                <option value="">Select Spotify playlist...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="link-youtube-playlist">YouTube Music Playlist:</label>
                            <select id="link-youtube-playlist" class="input-field">
                                <option value="">Select YouTube Music playlist...</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button id="create-link-btn" class="btn btn-primary" disabled>
                            <i class="fas fa-link"></i> Create Link
                        </button>
                    </div>
                </div>

                <!-- Existing Links -->
                <div class="existing-links">
                    <div class="section-header">
                        <h3><i class="fas fa-list"></i> Existing Playlist Links</h3>
                        <div class="header-actions">
                            <button id="refresh-links-btn" class="btn btn-sm btn-secondary">
                                <i class="fas fa-refresh"></i> Refresh
                            </button>
                            <button id="sync-all-links-btn" class="btn btn-sm btn-success">
                                <i class="fas fa-sync"></i> Sync All
                            </button>
                        </div>
                    </div>
                    
                    <div id="playlist-links-list" class="links-list">
                        <div class="no-links-message">
                            <i class="fas fa-info-circle"></i>
                            <p>No playlist links created yet. Create your first link above to get started!</p>
                        </div>
                    </div>
                </div>

                <!-- Link Statistics -->
                <div class="link-stats">
                    <h3><i class="fas fa-chart-bar"></i> Sync Statistics</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-link"></i></div>
                            <div class="stat-info">
                                <span class="stat-value" id="total-links">0</span>
                                <span class="stat-label">Total Links</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                            <div class="stat-info">
                                <span class="stat-value" id="successful-syncs">0</span>
                                <span class="stat-label">Successful Syncs</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-exclamation-circle"></i></div>
                            <div class="stat-info">
                                <span class="stat-value" id="failed-syncs">0</span>
                                <span class="stat-label">Failed Syncs</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-music"></i></div>
                            <div class="stat-info">
                                <span class="stat-value" id="total-tracks-synced">0</span>
                                <span class="stat-label">Tracks Synced</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sync History -->
                <div class="sync-history">
                    <div class="section-header">
                        <h3><i class="fas fa-history"></i> Recent Sync History</h3>
                        <button id="view-all-history-btn" class="btn btn-sm btn-outline">
                            <i class="fas fa-external-link-alt"></i> View All
                        </button>
                    </div>
                    <div id="sync-history-list" class="history-list">
                        <div class="no-history-message">
                            <i class="fas fa-info-circle"></i>
                            <p>No sync history available yet.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Playlist Selection Section -->            <section id="playlist-section" class="card" style="display: none;">
                <h2><i class="fas fa-list"></i> Select Playlists</h2>
                
                <!-- Sync Direction Selection -->
                <div class="sync-direction">
                    <label for="sync-direction">Sync Direction:</label>
                    <select id="sync-direction" class="playlist-select">
                        <option value="youtube-to-spotify">YouTube Music → Spotify</option>
                        <option value="spotify-to-youtube">Spotify → YouTube Music</option>
                    </select>
                </div>
                
                <div class="playlist-selection">
                    <div class="playlist-group" id="source-playlist-group">
                        <label for="source-playlist" id="source-playlist-label">YouTube Music Playlist:</label>
                        <select id="source-playlist" class="playlist-select">
                            <option value="">Select a YouTube Music playlist...</option>
                        </select>
                    </div>
                    <div class="sync-arrow">
                        <i class="fas fa-arrow-right" id="sync-arrow-icon"></i>
                    </div>
                    <div class="playlist-group" id="destination-playlist-group">
                        <label for="destination-playlist" id="destination-playlist-label">Spotify Playlist:</label>
                        <select id="destination-playlist" class="playlist-select">
                            <option value="">Select a Spotify playlist...</option>
                            <option value="new">+ Create New Playlist</option>
                        </select>
                        <input type="text" id="new-playlist-name" placeholder="New playlist name..." style="display: none;" class="input-field">
                    </div>
                </div>
                <button id="preview-sync-btn" class="btn btn-primary" disabled>
                    <i class="fas fa-search"></i> Preview Sync
                </button>
            </section>

            <!-- Sync Preview Section -->
            <section id="preview-section" class="card" style="display: none;">
                <h2><i class="fas fa-eye"></i> Sync Preview</h2>
                <div id="sync-stats" class="sync-stats"></div>
                
                <div class="preview-tabs">
                    <button class="tab-btn active" data-tab="perfect">
                        <i class="fas fa-check-circle"></i> Perfect Matches (<span id="perfect-count">0</span>)
                    </button>
                    <button class="tab-btn" data-tab="uncertain">
                        <i class="fas fa-question-circle"></i> Needs Review (<span id="uncertain-count">0</span>)
                    </button>
                    <button class="tab-btn" data-tab="duplicates">
                        <i class="fas fa-copy"></i> Duplicates (<span id="duplicate-count">0</span>)
                    </button>
                    <button class="tab-btn" data-tab="no-match">
                        <i class="fas fa-times-circle"></i> Not Found (<span id="no-match-count">0</span>)
                    </button>
                </div>

                <div class="tab-content">
                    <div id="perfect-tab" class="tab-pane active">
                        <div class="track-list" id="perfect-matches"></div>
                    </div>
                    <div id="uncertain-tab" class="tab-pane">
                        <div class="track-list" id="uncertain-matches"></div>
                    </div>
                    <div id="duplicates-tab" class="tab-pane">
                        <div class="track-list" id="duplicate-matches"></div>
                    </div>
                    <div id="no-match-tab" class="tab-pane">
                        <div class="track-list" id="no-matches"></div>
                    </div>
                </div>

                <div class="sync-actions">
                    <button id="execute-sync-btn" class="btn btn-success">
                        <i class="fas fa-play"></i> Execute Sync
                    </button>
                    <button id="back-to-selection-btn" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Back to Selection
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section id="results-section" class="card" style="display: none;">
                <h2><i class="fas fa-chart-line"></i> Sync Results</h2>
                <div id="sync-results"></div>
                <button id="new-sync-btn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Start New Sync
                </button>
            </section>
        </main>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-content">
                <div class="spinner"></div>
                <p id="loading-message">Processing...</p>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
